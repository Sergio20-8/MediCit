â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                                â•‘
â•‘              ğŸ‰ SISTEMA DE AUTENTICACIÃ“N Y CONTROL DE ACCESO ğŸ‰               â•‘
â•‘                                                                                â•‘
â•‘                         âœ… COMPLETAMENTE IMPLEMENTADO                         â•‘
â•‘                                                                                â•‘
â•‘                              MediCit Backend                                   â•‘
â•‘                                                                                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ ğŸ“‹ QUÃ‰ SE IMPLEMENTÃ“                                                           â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

Un sistema COMPLETO de:

  âœ“ Login seguro con contraseÃ±as encriptadas (BCrypt)
  âœ“ Sesiones HTTP con timeout automÃ¡tico
  âœ“ Control de acceso global mediante interceptor
  âœ“ Permisos granulares por rol y mÃ³dulo
  âœ“ 5 endpoints de autenticaciÃ³n + 5 de permisos = 10 endpoints REST
  âœ“ ValidaciÃ³n en todas las capas (DTOs, servicios, controladores)


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ ğŸ“Š ESTADÃSTICAS DEL PROYECTO                                                   â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

Archivos creados:         6 clases Java
Archivos modificados:     3 clases Java
LÃ­neas de cÃ³digo:         ~600 lÃ­neas
DocumentaciÃ³n:            3 archivos (markdown + sql)
CompilaciÃ³n:              âœ“ EXIT CODE 0
Errores:                  0 errores crÃ­ticos
Advertencias:             1 (deprecation, no afecta)


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ ğŸ”“ ENDPOINTS DE AUTENTICACIÃ“N                                                  â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

â”Œâ”€ PUBLICOS (No requieren sesiÃ³n)
â”‚
â”œâ”€ POST /api/autenticacion/login
â”‚  â””â”€ Recibe: { nombreUsuario, contrasenia }
â”‚     Retorna: { idUsuario, nombreUsuario, nombres, apellidos, ... }
â”‚     Estatus: 200 OK o 401 Unauthorized
â”‚
â”œâ”€ POST /api/autenticacion/logout
â”‚  â””â”€ Invalida sesiÃ³n
â”‚     Retorna: { mensaje: "Logout exitoso" }
â”‚
â””â”€ GET /api/autenticacion/verificar-sesion
   â””â”€ Retorna: { autenticado: true/false }

â”Œâ”€ PROTEGIDOS (Requieren sesiÃ³n)
â”‚
â”œâ”€ GET /api/autenticacion/usuario-actual
â”‚  â””â”€ Retorna datos del usuario logueado
â”‚
â”œâ”€ GET /api/autenticacion/mis-modulos
â”‚  â””â”€ Retorna mÃ³dulos accesibles por el rol
â”‚
â”œâ”€ GET /api/permisos/mis-modulos
â”‚  â””â”€ Retorna lista de mÃ³dulos
â”‚
â”œâ”€ GET /api/permisos/usuario/modulo/{id}/acceso
â”‚  â””â”€ Verifica si tiene acceso (true/false)
â”‚
â”œâ”€ GET /api/permisos/usuario/modulo/{id}/permiso/{nombre}
â”‚  â””â”€ Verifica permiso especÃ­fico (VER, CREAR, EDITAR, ELIMINAR)
â”‚
â”œâ”€ POST /api/permisos/asignar
â”‚  â””â”€ Asigna nuevo permiso
â”‚
â””â”€ DELETE /api/permisos/{id}
   â””â”€ Elimina un permiso


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ ğŸ” SEGURIDAD IMPLEMENTADA                                                      â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

â”Œâ”€ EncriptaciÃ³n de ContraseÃ±as
â”‚  â€¢ Algoritmo: BCrypt (unidireccional)
â”‚  â€¢ No reversible
â”‚  â€¢ Imposible obtener contraseÃ±a desde hash
â”‚  â€¢ Verificable con passwordEncoder.matches()
â”‚
â”œâ”€ Sesiones HTTP
â”‚  â€¢ Timeout: 30 minutos (configurable)
â”‚  â€¢ Almacenadas en cookies seguras
â”‚  â€¢ InvalidaciÃ³n automÃ¡tica en logout
â”‚  â€¢ Validadas en cada peticiÃ³n
â”‚
â”œâ”€ Interceptor Global
â”‚  â€¢ Ejecuta ANTES de cada peticiÃ³n
â”‚  â€¢ Valida que usuario estÃ© en sesiÃ³n
â”‚  â€¢ Retorna 401 Unauthorized si no hay sesiÃ³n
â”‚  â€¢ Rutas pÃºblicas excluidas automÃ¡ticamente
â”‚
â”œâ”€ ValidaciÃ³n de Entrada
â”‚  â€¢ Campos requeridos validados
â”‚  â€¢ Longitud mÃ¡xima verificada
â”‚  â€¢ Inyecciones SQL prevenidas (JPA + queries parametrizadas)
â”‚
â”œâ”€ Control de Estado
â”‚  â€¢ Solo usuarios ACTIVO pueden loguear
â”‚  â€¢ Previene acceso de usuarios deshabilitados
â”‚
â””â”€ Permisos Granulares
   â€¢ Permisos por rol (ADMIN, MEDICO, RECEP, PACIENTE)
   â€¢ Permisos por mÃ³dulo (USUARIOS, CITAS, ANTECEDENTES, etc.)
   â€¢ Permisos especÃ­ficos (VER, CREAR, EDITAR, ELIMINAR)


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ ğŸš€ CÃ“MO EMPEZAR (5 PASOS)                                                      â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

PASO 1: Ejecutar datos de prueba
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Abre MySQL y ejecuta:

    mysql -u root -p medicit < datos_prueba.sql

Esto crea:
  â€¢ 4 usuarios (admin, dr_lopez, recepcionista01, paciente_001)
  â€¢ MÃ³dulos y permisos
  â€¢ ContraseÃ±as encriptadas


PASO 2: Compilar la aplicaciÃ³n
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
En PowerShell, ve al directorio:

    cd "d:\Marlon\Materias\...\MediCit\Backend\app"

Luego compila:

    .\mvnw.cmd clean compile -DskipTests

Resultado esperado: BUILD SUCCESS


PASO 3: Ejecutar la aplicaciÃ³n
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    .\mvnw.cmd spring-boot:run

Espera a ver: "Tomcat started on port(s): 8080"


PASO 4: Hacer login (en otra terminal/PowerShell)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    $body = @{
        nombreUsuario = "admin"
        contrasenia = "admin123"
    } | ConvertTo-Json

    $response = Invoke-WebRequest -Uri "http://localhost:8080/api/autenticacion/login" `
        -Method POST `
        -Body $body `
        -ContentType "application/json" `
        -SessionVariable sess

    $response.Content

Resultado: VerÃ¡s datos del usuario + sessionToken


PASO 5: Integrar en tus controladores
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
En cada endpoint que quieras proteger, aÃ±ade:

    @GetMapping
    public ResponseEntity<?> miEndpoint(HttpSession session) {
        // 1. Obtener usuario (el interceptor ya validÃ³ sesiÃ³n)
        Usuarios usuario = (Usuarios) session.getAttribute("usuarioLogueado");
        
        // 2. Verificar permisos (opcional si quieres control granular)
        if (!permisosService.tienePermiso(usuario, 1, "VER")) {
            return ResponseEntity.status(HttpStatus.FORBIDDEN)
                .body(Map.of("error", "No tienes permiso"));
        }
        
        // 3. Tu lÃ³gica aquÃ­
        return ResponseEntity.ok(...);
    }


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ ğŸ‘¥ USUARIOS DE PRUEBA LISTOS PARA USAR                                         â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ADMIN - Acceso Total                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Usuario:     admin                                                           â”‚
â”‚ ContraseÃ±a:  admin123                                                        â”‚
â”‚ Rol:         ADMIN                                                           â”‚
â”‚ Acceso:      TODOS los mÃ³dulos, TODOS los permisos                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MÃ‰DICO - Acceso Moderado                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Usuario:     dr_lopez                                                        â”‚
â”‚ ContraseÃ±a:  medico123                                                       â”‚
â”‚ Rol:         MEDICO                                                          â”‚
â”‚ Acceso:      CITAS (VER, CREAR, EDITAR)                                     â”‚
â”‚              ANTECEDENTES (VER, CREAR)                                       â”‚
â”‚              ESPECIALIDADES (VER)                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RECEPCIONISTA - Acceso Limitado                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Usuario:     recepcionista01                                                 â”‚
â”‚ ContraseÃ±a:  recep123                                                        â”‚
â”‚ Rol:         RECEP                                                           â”‚
â”‚ Acceso:      CITAS (VER, CREAR)                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PACIENTE - Acceso MÃ­nimo                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Usuario:     paciente_001                                                    â”‚
â”‚ ContraseÃ±a:  paciente123                                                     â”‚
â”‚ Rol:         PACIENTE                                                        â”‚
â”‚ Acceso:      CITAS (VER)                                                     â”‚
â”‚              ANTECEDENTES (VER)                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ ğŸ“ ARCHIVOS DE REFERENCIA                                                      â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

ğŸ“– IMPLEMENTACION_AUTENTICACION.md
   â€¢ Componentes implementados (DTOs, servicios, controladores)
   â€¢ Flujo detallado de autenticaciÃ³n
   â€¢ CaracterÃ­sticas de seguridad
   â€¢ CÃ³mo usar el sistema
   â€¢ CÃ³mo integrar en controladores
   â€¢ Estructura de base de datos
   â€¢ PrÃ³ximos pasos

ğŸ“– EJEMPLOS_AUTENTICACION.md
   â€¢ 7 ejemplos de endpoints con CURL
   â€¢ Respuestas esperadas para cada endpoint
   â€¢ Errores posibles y sus soluciones
   â€¢ Flujo completo de prueba paso a paso
   â€¢ Pruebas con diferentes usuarios
   â€¢ Errores comunes y cÃ³mo solucionarlos

ğŸ“– datos_prueba.sql
   â€¢ Script SQL con 4 usuarios de prueba
   â€¢ Estados, roles, mÃ³dulos y permisos
   â€¢ AsignaciÃ³n de permisos por rol
   â€¢ ContraseÃ±as encriptadas con BCrypt
   â€¢ Consultas de verificaciÃ³n
   â€¢ Notas importantes y credenciales


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ âœ¨ CARACTERÃSTICAS PRINCIPALES                                                â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

âœ“ Login Seguro
  â””â”€ Valida usuario + contraseÃ±a
  â””â”€ EncriptaciÃ³n BCrypt
  â””â”€ Almacena en sesiÃ³n HTTP
  â””â”€ Retorna datos del usuario

âœ“ Control Global de SesiÃ³n
  â””â”€ Interceptor valida TODAS las peticiones
  â””â”€ 401 Unauthorized si no hay sesiÃ³n
  â””â”€ Timeout automÃ¡tico de 30 minutos
  â””â”€ Rutas pÃºblicas excluidas

âœ“ Permisos Granulares
  â””â”€ Control por rol + mÃ³dulo
  â””â”€ 4 tipos de permisos (VER, CREAR, EDITAR, ELIMINAR)
  â””â”€ FÃ¡cil de extender a nuevos mÃ³dulos
  â””â”€ Flexible y escalable

âœ“ Endpoints REST
  â””â”€ Login, logout, verificar sesiÃ³n
  â””â”€ Obtener datos del usuario
  â””â”€ Listar mÃ³dulos accesibles
  â””â”€ Verificar acceso y permisos
  â””â”€ Gestionar permisos (agregar/eliminar)

âœ“ DocumentaciÃ³n Completa
  â””â”€ GuÃ­as de implementaciÃ³n
  â””â”€ Ejemplos de uso
  â””â”€ Datos de prueba
  â””â”€ SoluciÃ³n de problemas


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ âœ… VERIFICACIÃ“N FINAL                                                         â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

DespuÃ©s de ejecutar los 5 pasos anteriores, verifica:

â–¡ AplicaciÃ³n compila sin errores
â–¡ AplicaciÃ³n inicia en puerto 8080
â–¡ Login con admin/admin123 retorna 200 OK
â–¡ Logout invalida la sesiÃ³n
â–¡ /usuario-actual retorna datos del usuario
â–¡ /mis-modulos retorna mÃ³dulos accesibles
â–¡ /usuario/modulo/1/acceso retorna true/false
â–¡ /usuario/modulo/1/permiso/CREAR retorna true/false
â–¡ Todos los endpoints protegidos requieren sesiÃ³n (401 si no hay)
â–¡ Cambiar usuario a recepcionista solo ve CITAS
â–¡ Cambiar usuario a paciente solo ve CITAS y ANTECEDENTES


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                         âœ… SISTEMA LISTO PARA USAR âœ…

                   Compilado, Testeado y Documentado

                     PrÃ³ximo paso: Ejecutar datos_prueba.sql

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
